<!doctype html>
<title>Simple Web Socket</title>
<style>
  body   { display: flex; width: 100vw; height: 100vh; margin: 0 }
  body * { flex-grow: 1; padding: 1em }
</style>

<textarea id=a placeholder="type" autofocus></textarea>
<textarea id=b placeholder="read" readonly></textarea>

<script>
    const ws = new WebSocket("ws://" + window.location.hostname + ":" + (window.location.port || 80) + "/");
    const a = document.getElementById("a");
    const b = document.getElementById("b");

    function toServer(e) {
        ws.send( e.code );
    };

    function fromServer(e) {
        b.value = e.data
    };

    a.addEventListener("keyup", toServer );
    ws.addEventListener("message", fromServer );
</script>

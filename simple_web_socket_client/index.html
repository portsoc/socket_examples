<!doctype html>
<title>Simple Web Socket</title>
<style>
  textarea { min-height: 5em; min-width: 20em; }
</style>

<textarea id=a placeholder="type hereâ€¦" autofocus></textarea>
<textarea id=b placeholder="events" readonly></textarea>

<script>
  const ws = new WebSocket("ws://" + window.location.hostname + ":" + (window.location.port || 80) + "/");
  const a = document.getElementById("a");
  const b = document.getElementById("b");

  function toServer(e) {
    ws.send(e.code);
  };

  function fromServer(e) {
    b.value = e.data;
  };

  a.addEventListener("keyup", toServer);
  ws.addEventListener("message", fromServer);
</script>
